/*! Jack In The Box - v0.0.6 - 2014-02-02
* Copyright (c) 2014 Matthieu Aussaguel; Licensed MIT */(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};this.JackInTheBox=function(){function b(b){null==b&&(b=window.document.documentElement),this.scrollCallback=a(this.scrollCallback,this),this.scrollHandler=a(this.scrollHandler,this),this.visibleCount=0,this.element=b,this.boxes=Array.prototype.slice.call(this.element.getElementsByClassName(this.config.boxClass)),this.scrolled=!0}return b.prototype.config={boxClass:"box",animateClass:"animated",offset:0},b.prototype.init=function(){return this.boxes.length?(this.hideAll(),window.addEventListener("scroll",this.scrollHandler,!1),this.interval=setInterval(this.scrollCallback,50)):void 0},b.prototype.stop=function(){return window.removeEventListener("scroll",this.scrollHandler,!1),null!=this.interval?clearInterval(this.interval):void 0},b.prototype.show=function(a){return a.style.visibility="visible",a.className=""+a.className+" "+this.config.animateClass},b.prototype.hideAll=function(){var a,b,c,d,e;for(d=this.boxes,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.style.visibility="hidden");return e},b.prototype.scrollHandler=function(){return this.scrolled=!0},b.prototype.scrollCallback=function(){var a,b,c,d;if(this.scrolled){for(this.scrolled=!1,d=[],a=b=0,c=this.boxes.length-1;c>=0?c>=b:b>=c;a=c>=0?++b:--b)null!=this.boxes[a]&&this.isVisible(this.boxes[a])?(this.show(this.boxes[a]),this.boxes[a]=null,this.visibleCount++,d.push(this.boxes.length===this.visibleCount?this.stop():void 0)):d.push(void 0);return d}},b.prototype.offsetTop=function(a){var b;for(b=a.offsetTop;a=a.offsetParent;)b+=a.offsetTop;return b},b.prototype.isVisible=function(a){var b,c,d,e;return e=window.pageYOffset,d=e+this.element.clientHeight-this.config.offset,c=this.offsetTop(a),b=c+a.clientHeight,d>=c&&b>=e},b}()}).call(this);